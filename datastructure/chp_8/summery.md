# Tree

20200806

## 트리의 개념

스택, 큐, 리스트는 모두 자료형이 일렬로 나열된 **선형 자료구조(linear data structure)**였다. 트리는 **계층적인 구조(hierarchical structure)**로 대표적인 것이 **결정 트리(decision tree)**이다. 트리는 유한 집합이다

* 포리스트(forest) : 트리들의 집합
    * 노드(node)
        * 루트(root)
        * 서브트리(subtree)
    * 간선, 에지(edge)
        * 부모 노드(parent node)
        * 자식 노드(children node)
        * 형제 관계(sibling)
        * 조상 노드(ancestor node)
        * 자손 노드(descendent node)
        * 단말 노드(terminal node or leaf node) : 자식 노드가 없는 노드
        * 비단말 노드(nonterminal node)
* 차수(degree) : 어떤 노드가 가지고 있는 자식 노드의 개수. 트리가 가지고 있는 노드의 차수 중에서 가장 큰 차수.
* 레벨(level) : 루트의 레벨은 1. 한 층씩 내려갈수록 1씩 증가
* 높이(height) : 트리가 가지고 있는 최대 레벨

일반 트리의 노드 구조

```
                            link field
data field |   link(1)  link(2)  link(3)  ...  link(n)  |
   data    |  자식노드1   자노2    자노3    ...  자노n    |
```

## 이진트리 소개

모든 노드가 2개의 서브트리를 갖는 트리, 이 때 서브트리는 공집합일 수도 있다. 따라서 모든 노드의 차수가 2 이하가 되어 최대 2개까지의 자식 노드를 가질 수 있다.
**다만 왼쪽 서브트리와 오른쪽 서브트리는 반드시 서로 구별되어야 한다.**

### 이진트리의 성질

* n개의 node를 가진 트리는 n-1개의 edge를 가진다. root를 제외한 tree의 모든 node가 하나의 parent node를 가지기 때문. 부모와 자식 간에는 하나의 edge만 존재하므로
* 높이가 h인 이진트리는 $h$개 이상, $2^h-1$개 이하의 노드를 가진다. level $i$에서 노드의 최대 개수는 $2^(i-1)$이다. 따라서 높이가 h인 이진트리의 최대 노드 개수는 $\sum_{i=1}^h 2^(i-1) = 2^h-1$
* n개의 노드를 가지는 이진트리의 높이 $log_2(n+1)$(floor 처리하고) 이상이고 n 이하이다. 한 레벨에서 최소한 하나의 노드는 있어야 하므로 높이는 n을 넘을 수 없다는 것.
* 형태
    * 포화 이진트리 : 트리의 각 레벨에 노드가 꽉 차 있는 이진트리. 번호는 레벨 단위로 왼쪽에서 오른쪽으로 번호를 붙이면 된다.
    * 완전 이진트리 : 높이가 k인 트리에서 레벨 1 부터 k-1까지는 모든 노드가 채워져 있고 마지막 레벨 k에서는 왼쪽부터 오른쪽으로 노드가 순서대로 채워져 있는 이진트리. 마지막 레벨에서는 노드가 꽉 차있지 않아도 되지만 중간에 빈 곳이 있으면 안된다. 힙(heap, 10장)이 대표적인 완전 이진트리
    * 기타 이진트리

### 이진트리의 추상 자료형

* 데이터
    * 노드와 간선의 집합. 노드는 공집합이거나 공집합이 아닌 경우 루트 노드와 왼쪽 서브트리, 오른쪽 서브트리로 구성됨. 이때 모든 서브트리도 이진트리여야함.
* 연산 
    * create()
    * isEmpty()
    * getRoot()
    * getCount()
    * getHeight()
    * insertNode(n)
    * deleteNode(n)
    * display()

## 이진트리의 표현

* 배열 표현법
    * 저장하고자 하는 이진 트리가 완전 이진트리일 경우. 높이가 k이면 먼저 $2^k-1$개의 연속 공간을 할당. 다음 완전 이진트리 번호대로 노드의 정보를 배열에 저장.
* 링크 표현법
    * 연결 리스트를 이용하여 선형 자료구조를 표현한 방식과 유사

## 링크 표현법을 이용한 이진 트리의 구현

